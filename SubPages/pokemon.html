<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>random pokemon</title>
    <style>
        :root {
            --abbey: #494F55;
            --blackcoral: #54626F;
            --tan: #f9f7f5;
            --black: #0C0404;
            --dvgray: #595358;
            --green: #a4d07a;
        }

        body {
            margin: 0;
            background: linear-gradient(90deg, var(--blackcoral), var(--dvgray));
            font-family: "Comic Sans MS", sans-serif;
            color: var(--tan);
        }

        .pokemon-name {
            font-size: 25px;
            font-weight: bolder;
        }

        footer {
            text-align: center;
            width: 100%;
            margin-top: 400px;
        }

        footer a {
            text-decoration: none;
            color: var(--green);
        }

        footer a:hover {
            text-decoration: underline;
            font-style: oblique;
        }

        #pokemon-container {
            text-align: center;
        }

        #pokemon-container img {
            width: 200px;
            height: 200px;
            border: 3px solid var(--black);
            background: linear-gradient(var(--dvgray), var(--blackcoral));
            cursor: pointer;
        }

        #randomPokemonContainer {
            width: 300px;
            height: 300px;
            text-align: center;
            margin: 0 auto;
            display: block;
        }

        .btn {
            outline: none;
            background-color: var(--green);
            color: var(--black);
            border: 1px solid var(--tan);
            font-size: 15px;
            margin-left: auto;
            margin-right: auto;
            cursor: pointer;
            width: 70px;
        }

        .btn:hover {
            text-decoration: underline;
            font-style: oblique;
        }
    </style>
</head>
<body>
    <div id="randomPokemonContainer">
        <div id="pokemon-container"></div>
        <button class="btn" onclick="fetchPokemonData();">Next</button>
        <a href="https://mavzo.neocities.org" target="_parent"><button class="btn">Main Site</button></a>
    </div>
    <script type="text/javascript">
        let shiny_version;
        let normal_version;

        function getRandomPokemonId() {
            return Math.floor(Math.random() * 1010) + 1;
        }

        async function fetchPokemonData() {
            const iD = getRandomPokemonId();
            const resp = await fetch(`https://pokeapi.co/api/v2/pokemon/${iD}`);
            if (!resp.ok) {
                console.error("RPOKE : Failed to fetch data:", resp.statusText);
                return;
            }
            const pokemon = await resp.json();
            display(pokemon);
        }

        function display(pokemon) {
            const container = document.getElementById('pokemon-container');
            const name = document.createElement('h1');
            const image = document.createElement('img');

            shiny_version = pokemon.sprites.front_shiny;
            normal_version = pokemon.sprites.front_default;

            const Capitalized = pokemon.name.charAt(0).toUpperCase() + pokemon.name.slice(1);

            name.textContent = Capitalized;
            name.classList.add('pokemon-name');

            image.src = normal_version || '';
            image.alt = pokemon.name;
            image.classList.add('pokemon-image');

            image.onclick = switchToShiny;

            container.innerHTML = '';
            container.appendChild(name);
            container.appendChild(image);
        }

        function switchToShiny() {
            const image = document.querySelector('.pokemon-image');
            if (!image) return;

            if (image.src === shiny_version && normal_version) {
                image.src = normal_version;
            } else if (shiny_version) {
                image.src = shiny_version;
            }
        }

        document.addEventListener('DOMContentLoaded', fetchPokemonData);
    </script>
    <footer>
        Made by <a href="https://mavzo.neocities.org">mavzo</a> on Neocities.<br>
        If you want to embed this on your website go-to <a href="pokemon-linking.html" target="_blank">this webpage.</a><br>
        <em>click on a pokemon to make it shiny</em>
    </footer>
</body>
</html>